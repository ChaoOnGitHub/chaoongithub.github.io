<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="主题模型,LDA,Python," />










<meta name="description" content="0. 导入相关包 1234567from pandas import DataFrame,Seriesimport pandas as pdimport numpy as npimport osimport reimport gensimfrom gensim import corpora,similarities,models 1. 读入数据 1234567891011121314os.chdi">
<meta name="keywords" content="主题模型,LDA,Python">
<meta property="og:type" content="article">
<meta property="og:title" content="利用LDA模型判断技术主题分布">
<meta property="og:url" content="https://chaoongithub.github.io/2018/04/21/利用LDA模型判断技术主题分布/index.html">
<meta property="og:site_name" content="核桃也是桃啊">
<meta property="og:description" content="0. 导入相关包 1234567from pandas import DataFrame,Seriesimport pandas as pdimport numpy as npimport osimport reimport gensimfrom gensim import corpora,similarities,models 1. 读入数据 1234567891011121314os.chdi">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-04-21T08:33:29.513Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="利用LDA模型判断技术主题分布">
<meta name="twitter:description" content="0. 导入相关包 1234567from pandas import DataFrame,Seriesimport pandas as pdimport numpy as npimport osimport reimport gensimfrom gensim import corpora,similarities,models 1. 读入数据 1234567891011121314os.chdi">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://chaoongithub.github.io/2018/04/21/利用LDA模型判断技术主题分布/"/>





  <title>利用LDA模型判断技术主题分布 | 核桃也是桃啊</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">核桃也是桃啊</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-主页">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            主页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-关于">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-标签">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-分类">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chaoongithub.github.io/2018/04/21/利用LDA模型判断技术主题分布/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张海超">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="核桃也是桃啊">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">利用LDA模型判断技术主题分布</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-21T16:31:43+08:00">
                2018-04-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/主题模型/" itemprop="url" rel="index">
                    <span itemprop="name">主题模型</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2>0. 导入相关包</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> DataFrame,Series</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> gensim</span><br><span class="line"><span class="keyword">from</span> gensim <span class="keyword">import</span> corpora,similarities,models</span><br></pre></td></tr></table></figure></p>
<h2>1. 读入数据</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">os.chdir(<span class="string">'/Users/zhanghc/learning/for3d/转完'</span>)</span><br><span class="line">filelist=[x <span class="keyword">for</span> x <span class="keyword">in</span> os.listdir(<span class="string">'.'</span>) <span class="keyword">if</span> os.path.isfile(x) <span class="keyword">and</span> os.path.splitext(x)[<span class="number">1</span>]==<span class="string">'.txt'</span>]</span><br><span class="line">i=<span class="number">0</span></span><br><span class="line">dict_data=&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> filetxt <span class="keyword">in</span> filelist:</span><br><span class="line">    i+=<span class="number">1</span></span><br><span class="line">    print(<span class="string">"开始读入第%d篇文档: %s"</span> % (i,filetxt))</span><br><span class="line">    <span class="keyword">if</span> i &lt;= len(filelist):</span><br><span class="line">        raw_data=pd.read_table(os.path.abspath(filetxt),sep=<span class="string">"\t"</span>,index_col=<span class="keyword">None</span>)</span><br><span class="line">        dict_data.update(raw_data.iloc[:,<span class="number">4</span>].to_dict())</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> len(dict_data)</span><br></pre></td></tr></table></figure></p>
<pre><code>开始读入第1篇文档
开始读入第2篇文档
开始读入第3篇文档
开始读入第4篇文档
开始读入第5篇文档
开始读入第6篇文档
开始读入第7篇文档
开始读入第8篇文档
开始读入第9篇文档
开始读入第10篇文档
开始读入第11篇文档
开始读入第12篇文档
开始读入第13篇文档
开始读入第14篇文档
开始读入第15篇文档
开始读入第16篇文档
开始读入第17篇文档
开始读入第18篇文档
开始读入第19篇文档
开始读入第20篇文档
开始读入第21篇文档
开始读入第22篇文档
开始读入第23篇文档
开始读入第24篇文档
开始读入第25篇文档
开始读入第26篇文档
开始读入第27篇文档
开始读入第28篇文档
开始读入第29篇文档
开始读入第30篇文档
开始读入第31篇文档
开始读入第32篇文档
开始读入第33篇文档
开始读入第34篇文档
开始读入第35篇文档
开始读入第36篇文档
开始读入第37篇文档
开始读入第38篇文档
开始读入第39篇文档
开始读入第40篇文档
开始读入第41篇文档
开始读入第42篇文档
开始读入第43篇文档
开始读入第44篇文档
开始读入第45篇文档
开始读入第46篇文档
开始读入第47篇文档
开始读入第48篇文档
开始读入第49篇文档
开始读入第50篇文档
开始读入第51篇文档
开始读入第52篇文档
开始读入第53篇文档
开始读入第54篇文档
开始读入第55篇文档
开始读入第56篇文档
开始读入第57篇文档
开始读入第58篇文档
开始读入第59篇文档
开始读入第60篇文档
开始读入第61篇文档
开始读入第62篇文档
开始读入第63篇文档
开始读入第64篇文档
开始读入第65篇文档
开始读入第66篇文档
开始读入第67篇文档
开始读入第68篇文档
开始读入第69篇文档
开始读入第70篇文档
开始读入第71篇文档
开始读入第72篇文档
开始读入第73篇文档
开始读入第74篇文档
开始读入第75篇文档
开始读入第76篇文档
开始读入第77篇文档
开始读入第78篇文档
开始读入第79篇文档
开始读入第80篇文档
开始读入第81篇文档
开始读入第82篇文档
开始读入第83篇文档
开始读入第84篇文档
开始读入第85篇文档
开始读入第86篇文档
开始读入第87篇文档
开始读入第88篇文档
开始读入第89篇文档
开始读入第90篇文档
开始读入第91篇文档
开始读入第92篇文档
开始读入第93篇文档
开始读入第94篇文档
开始读入第95篇文档
开始读入第96篇文档
开始读入第97篇文档
开始读入第98篇文档
开始读入第99篇文档
开始读入第100篇文档
开始读入第101篇文档
开始读入第102篇文档
开始读入第103篇文档
开始读入第104篇文档
开始读入第105篇文档
开始读入第106篇文档
开始读入第107篇文档
开始读入第108篇文档
开始读入第109篇文档
开始读入第110篇文档
开始读入第111篇文档
开始读入第112篇文档
开始读入第113篇文档
开始读入第114篇文档
开始读入第115篇文档
开始读入第116篇文档
开始读入第117篇文档
开始读入第118篇文档
开始读入第119篇文档
开始读入第120篇文档
开始读入第121篇文档
开始读入第122篇文档
开始读入第123篇文档
开始读入第124篇文档
开始读入第125篇文档
开始读入第126篇文档
开始读入第127篇文档
开始读入第128篇文档
开始读入第129篇文档
开始读入第130篇文档
开始读入第131篇文档
开始读入第132篇文档
开始读入第133篇文档
开始读入第134篇文档
开始读入第135篇文档
开始读入第136篇文档
开始读入第137篇文档
开始读入第138篇文档
开始读入第139篇文档
开始读入第140篇文档
开始读入第141篇文档
开始读入第142篇文档
开始读入第143篇文档
开始读入第144篇文档
开始读入第145篇文档
开始读入第146篇文档
开始读入第147篇文档
开始读入第148篇文档
开始读入第149篇文档
开始读入第150篇文档
开始读入第151篇文档
开始读入第152篇文档
开始读入第153篇文档
开始读入第154篇文档
开始读入第155篇文档
开始读入第156篇文档
开始读入第157篇文档
开始读入第158篇文档
开始读入第159篇文档
开始读入第160篇文档
开始读入第161篇文档
开始读入第162篇文档
开始读入第163篇文档
开始读入第164篇文档
开始读入第165篇文档
开始读入第166篇文档
开始读入第167篇文档
开始读入第168篇文档
开始读入第169篇文档
开始读入第170篇文档
开始读入第171篇文档
开始读入第172篇文档
开始读入第173篇文档
开始读入第174篇文档
开始读入第175篇文档
开始读入第176篇文档
开始读入第177篇文档
开始读入第178篇文档
开始读入第179篇文档
开始读入第180篇文档
开始读入第181篇文档
开始读入第182篇文档
开始读入第183篇文档
开始读入第184篇文档
开始读入第185篇文档
开始读入第186篇文档
开始读入第187篇文档
开始读入第188篇文档
开始读入第189篇文档
开始读入第190篇文档
开始读入第191篇文档
开始读入第192篇文档
开始读入第193篇文档
开始读入第194篇文档
开始读入第195篇文档
开始读入第196篇文档
开始读入第197篇文档
开始读入第198篇文档
开始读入第199篇文档
开始读入第200篇文档
9123
</code></pre>
<h2>2. 构建语料</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 文本预处理</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">text_clean</span><span class="params">(text)</span>:</span></span><br><span class="line">    text=text.replace(<span class="string">"\n"</span>,<span class="string">" "</span>)</span><br><span class="line">    text=text.replace(<span class="string">"-"</span>,<span class="string">" "</span>)</span><br><span class="line">    text=text.replace(<span class="string">"("</span>,<span class="string">" "</span>)</span><br><span class="line">    text=text.replace(<span class="string">")"</span>,<span class="string">" "</span>)</span><br><span class="line">    pure_text=<span class="string">''</span></span><br><span class="line">    <span class="keyword">for</span> letter <span class="keyword">in</span> text:</span><br><span class="line">        <span class="keyword">if</span> letter.isalpha() <span class="keyword">or</span> letter==<span class="string">" "</span>:</span><br><span class="line">            pure_text+=letter</span><br><span class="line">    text=<span class="string">' '</span>.join(word <span class="keyword">for</span> word <span class="keyword">in</span> pure_text.split() <span class="keyword">if</span> len(word)&gt;<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> text</span><br></pre></td></tr></table></figure></p>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 构建停用词表</span></span><br><span class="line">stoplist=[]</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'/Users/zhanghc/learning/for3d/stop_words_eng.txt'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f.readlines():</span><br><span class="line">        line=line.replace(<span class="string">'\r'</span>,<span class="string">''</span>)</span><br><span class="line">        line=line.replace(<span class="string">'\n'</span>,<span class="string">''</span>)</span><br><span class="line">        <span class="keyword">if</span> line <span class="keyword">not</span> <span class="keyword">in</span> stoplist:</span><br><span class="line">            stoplist.append(line)</span><br></pre></td></tr></table></figure></p>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 创建语料</span></span><br><span class="line">dict_values=dict_data.values()</span><br><span class="line"><span class="comment">## 去除停用词</span></span><br><span class="line">patent_text=[[word.lower() <span class="keyword">for</span> word <span class="keyword">in</span> text_clean(doc).split() <span class="keyword">if</span> word.lower() <span class="keyword">not</span> <span class="keyword">in</span> stoplist] <span class="keyword">for</span> doc <span class="keyword">in</span> dict_values ]</span><br></pre></td></tr></table></figure></p>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">patent_text[<span class="number">0</span>]</span><br></pre></td></tr></table></figure></p>
<pre><code>['hydroxyethylpyrrolidone',
 'methacrylateglycidyl',
 'methacrylate',
 'copolymer',
 'prepared',
 'precipitation',
 'polymerization',
 'hydroxyethylpyrrolidone',
 'methacrylateglycidyl',
 'methacrylate',
 'copolymer',
 'composition',
 'adhesive',
 'aerosol',
 'agricultural',
 'agent',
 'anti',
 'soil',
 'redeposition',
 'agent',
 'battery',
 'agent',
 'beverage',
 'biocide',
 'cementing',
 'construction',
 'agent',
 'cleaning',
 'agent',
 'coating',
 'agent',
 'conductive',
 'material',
 'cosmetic',
 'agent',
 'crosslinking',
 'agent',
 'dental',
 'agent',
 'decorated',
 'pigment',
 'delivery',
 'active',
 'agent',
 'detergent',
 'dispersant',
 'drug',
 'electronic',
 'encapsulation',
 'food',
 'hair',
 'spray',
 'domestic',
 'industrial',
 'institutional',
 'ink',
 'coating',
 'interlaminate',
 'adhesive',
 'lithographic',
 'solution',
 'membrane',
 'additive',
 'agent',
 'metal',
 'working',
 'fluid',
 'oilfield',
 'agent',
 'paint',
 'paper',
 'paper',
 'sizing',
 'agent',
 'personal',
 'care',
 'agent',
 'pharmaceutical',
 'pigment',
 'additive',
 'plaster',
 'plastic',
 'printing',
 'refractive',
 'index',
 'modifier',
 'rheological',
 'modifier',
 'reactive',
 'polymer',
 'agent',
 'sequestrant',
 'soil',
 'release',
 'agent',
 'static',
 'control',
 'agent',
 'surface',
 'modification',
 'agent',
 'thickener',
 'wood',
 'care',
 'agent',
 'claimed',
 'reactive',
 'flexible',
 'water',
 'resistant',
 'hydroxyethylpyrrolidone',
 'methacrylateglycidyl',
 'methacrylate',
 'copolymer',
 'manufactured',
 'easy',
 'method',
 'yield',
 'detailed',
 'description',
 'hydroxyethylpyrrolidone',
 'methacrylateglycidyl',
 'methacrylate',
 'copolymer',
 'formula',
 'prepared',
 'precipitation',
 'polymerization',
 'mol',
 'moland',
 'xy',
 'mol',
 'independent',
 'claims',
 'composition',
 'comprises',
 'copolymer',
 'wt',
 'additive',
 'preparation',
 'copolymer']
</code></pre>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##建立语料</span></span><br><span class="line"><span class="comment">### 创建整个语料的词典</span></span><br><span class="line">dictionary=corpora.Dictionary(patent_text)</span><br><span class="line"><span class="comment">### 将每个文本转换成向量表示</span></span><br><span class="line">corpus=[(dictionary.doc2bow(text)) <span class="keyword">for</span> text <span class="keyword">in</span> patent_text]</span><br></pre></td></tr></table></figure></p>
<h2>3. 建立LDA模型</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lda=gensim.models.ldamodel.LdaModel(corpus=corpus,num_topics=<span class="number">20</span>,id2word=dictionary)</span><br></pre></td></tr></table></figure></p>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看一下LDA模型的结果</span></span><br><span class="line">lda.print_topics(num_topics=<span class="number">20</span>,num_words=<span class="number">10</span>)</span><br></pre></td></tr></table></figure></p>
<pre><code>[(0,
  u'0.036*&quot;light&quot; + 0.033*&quot;device&quot; + 0.027*&quot;image&quot; + 0.018*&quot;drawing&quot; + 0.018*&quot;signal&quot; + 0.017*&quot;digital&quot; + 0.015*&quot;unit&quot; + 0.012*&quot;description&quot; + 0.012*&quot;display&quot; + 0.010*&quot;camera&quot;'),
 (1,
  u'0.029*&quot;material&quot; + 0.022*&quot;wt&quot; + 0.020*&quot;resin&quot; + 0.014*&quot;agent&quot; + 0.012*&quot;additive&quot; + 0.011*&quot;comprises&quot; + 0.011*&quot;pts&quot; + 0.008*&quot;powder&quot; + 0.008*&quot;description&quot; + 0.008*&quot;degrees&quot;'),
 (2,
  u'0.026*&quot;coating&quot; + 0.025*&quot;composition&quot; + 0.013*&quot;layer&quot; + 0.011*&quot;printing&quot; + 0.010*&quot;film&quot; + 0.010*&quot;ink&quot; + 0.009*&quot;material&quot; + 0.008*&quot;comprising&quot; + 0.008*&quot;surface&quot; + 0.007*&quot;component&quot;'),
 (3,
  u'0.060*&quot;layer&quot; + 0.034*&quot;film&quot; + 0.027*&quot;substrate&quot; + 0.015*&quot;electrode&quot; + 0.015*&quot;semiconductor&quot; + 0.011*&quot;drawing&quot; + 0.010*&quot;surface&quot; + 0.009*&quot;formed&quot; + 0.009*&quot;circuit&quot; + 0.009*&quot;description&quot;'),
 (4,
  u'0.045*&quot;data&quot; + 0.019*&quot;image&quot; + 0.017*&quot;object&quot; + 0.016*&quot;apparatus&quot; + 0.014*&quot;drawing&quot; + 0.012*&quot;description&quot; + 0.012*&quot;unit&quot; + 0.011*&quot;processing&quot; + 0.011*&quot;device&quot; + 0.010*&quot;method&quot;'),
 (5,
  u'0.076*&quot;laser&quot; + 0.020*&quot;beam&quot; + 0.017*&quot;light&quot; + 0.015*&quot;scanning&quot; + 0.012*&quot;wire&quot; + 0.012*&quot;drawing&quot; + 0.011*&quot;description&quot; + 0.010*&quot;device&quot; + 0.010*&quot;welding&quot; + 0.009*&quot;optical&quot;'),
 (6,
  u'0.026*&quot;composition&quot; + 0.022*&quot;compound&quot; + 0.021*&quot;polymer&quot; + 0.014*&quot;article&quot; + 0.013*&quot;organic&quot; + 0.011*&quot;group&quot; + 0.010*&quot;alkyl&quot; + 0.009*&quot;comprises&quot; + 0.008*&quot;comprising&quot; + 0.008*&quot;description&quot;'),
 (7,
  u'0.077*&quot;wt&quot; + 0.053*&quot;pts&quot; + 0.023*&quot;adding&quot; + 0.022*&quot;water&quot; + 0.014*&quot;degrees&quot; + 0.012*&quot;stirring&quot; + 0.011*&quot;minutes&quot; + 0.011*&quot;mixing&quot; + 0.009*&quot;powder&quot; + 0.009*&quot;comprises&quot;'),
 (8,
  u'0.036*&quot;wt&quot; + 0.028*&quot;pts&quot; + 0.011*&quot;fabric&quot; + 0.011*&quot;ink&quot; + 0.011*&quot;ion&quot; + 0.009*&quot;additive&quot; + 0.009*&quot;comprises&quot; + 0.008*&quot;aqueous&quot; + 0.008*&quot;paper&quot; + 0.008*&quot;electrolyte&quot;'),
 (9,
  u'0.028*&quot;module&quot; + 0.018*&quot;connected&quot; + 0.016*&quot;control&quot; + 0.014*&quot;drawing&quot; + 0.013*&quot;print&quot; + 0.013*&quot;device&quot; + 0.012*&quot;light&quot; + 0.011*&quot;model&quot; + 0.011*&quot;printing&quot; + 0.010*&quot;sensor&quot;'),
 (10,
  u'0.019*&quot;material&quot; + 0.017*&quot;structure&quot; + 0.015*&quot;feeding&quot; + 0.015*&quot;screw&quot; + 0.013*&quot;rod&quot; + 0.011*&quot;device&quot; + 0.011*&quot;shaft&quot; + 0.009*&quot;connected&quot; + 0.009*&quot;inner&quot; + 0.009*&quot;section&quot;'),
 (11,
  u'0.038*&quot;powder&quot; + 0.021*&quot;tissue&quot; + 0.013*&quot;food&quot; + 0.012*&quot;method&quot; + 0.011*&quot;parts&quot; + 0.009*&quot;mass&quot; + 0.009*&quot;cells&quot; + 0.008*&quot;material&quot; + 0.007*&quot;bag&quot; + 0.007*&quot;printing&quot;'),
 (12,
  u'0.034*&quot;manufacturing&quot; + 0.032*&quot;material&quot; + 0.028*&quot;additive&quot; + 0.019*&quot;method&quot; + 0.016*&quot;layer&quot; + 0.014*&quot;description&quot; + 0.014*&quot;drawing&quot; + 0.014*&quot;surface&quot; + 0.013*&quot;powder&quot; + 0.012*&quot;component&quot;'),
 (13,
  u'0.020*&quot;temperature&quot; + 0.019*&quot;device&quot; + 0.015*&quot;air&quot; + 0.011*&quot;plate&quot; + 0.011*&quot;supporting&quot; + 0.011*&quot;support&quot; + 0.010*&quot;control&quot; + 0.010*&quot;heat&quot; + 0.010*&quot;upper&quot; + 0.010*&quot;drawing&quot;'),
 (14,
  u'0.052*&quot;nozzle&quot; + 0.018*&quot;printing&quot; + 0.018*&quot;head&quot; + 0.016*&quot;printer&quot; + 0.016*&quot;filament&quot; + 0.012*&quot;material&quot; + 0.011*&quot;pipe&quot; + 0.011*&quot;dimensional&quot; + 0.011*&quot;cooling&quot; + 0.010*&quot;drawing&quot;'),
 (15,
  u'0.013*&quot;liquid&quot; + 0.011*&quot;powder&quot; + 0.010*&quot;metal&quot; + 0.010*&quot;water&quot; + 0.010*&quot;method&quot; + 0.010*&quot;tank&quot; + 0.010*&quot;material&quot; + 0.009*&quot;additive&quot; + 0.009*&quot;temperature&quot; + 0.008*&quot;solution&quot;'),
 (16,
  u'0.022*&quot;layer&quot; + 0.021*&quot;glass&quot; + 0.015*&quot;material&quot; + 0.011*&quot;fiber&quot; + 0.010*&quot;surface&quot; + 0.010*&quot;film&quot; + 0.010*&quot;sheet&quot; + 0.009*&quot;paper&quot; + 0.009*&quot;plastic&quot; + 0.008*&quot;extrusion&quot;'),
 (17,
  u'0.033*&quot;printing&quot; + 0.030*&quot;device&quot; + 0.020*&quot;plate&quot; + 0.015*&quot;printer&quot; + 0.015*&quot;dimensional&quot; + 0.014*&quot;model&quot; + 0.012*&quot;connected&quot; + 0.011*&quot;drawing&quot; + 0.010*&quot;mechanism&quot; + 0.010*&quot;body&quot;'),
 (18,
  u'0.023*&quot;module&quot; + 0.020*&quot;signal&quot; + 0.020*&quot;digital&quot; + 0.016*&quot;optical&quot; + 0.013*&quot;drawing&quot; + 0.012*&quot;processing&quot; + 0.012*&quot;light&quot; + 0.011*&quot;method&quot; + 0.011*&quot;connected&quot; + 0.009*&quot;frequency&quot;'),
 (19,
  u'0.032*&quot;method&quot; + 0.019*&quot;drawing&quot; + 0.015*&quot;device&quot; + 0.014*&quot;dimensional&quot; + 0.014*&quot;description&quot; + 0.010*&quot;step&quot; + 0.008*&quot;enables&quot; + 0.008*&quot;data&quot; + 0.007*&quot;involves&quot; + 0.006*&quot;process&quot;')]
</code></pre>
<h2>4.查看一下十项技术的所属于的主题</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tech_text=[<span class="string">'selective laser sinter'</span>,<span class="string">'direct metal laser sinter'</span>,<span class="string">'fused deposit model'</span>,<span class="string">'digital light process'</span>,<span class="string">'laminated object manufact'</span>,</span><br><span class="line">          <span class="string">'selective heat sinter'</span>,<span class="string">'electron beam melting'</span>,<span class="string">'selective heat sintering'</span>,<span class="string">'powder bed and inkjet head'</span>,<span class="string">'Polymer injection'</span>]</span><br></pre></td></tr></table></figure></p>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 打印10个技术的主题分布情况</span></span><br><span class="line">i=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> text <span class="keyword">in</span> tech_text:</span><br><span class="line">    i+=<span class="number">1</span></span><br><span class="line">    text_lower_split=text.lower().split()</span><br><span class="line">    text_lda=dictionary.doc2bow(document=text_lower_split)</span><br><span class="line">    topics=lda.get_document_topics(bow=text_lda)</span><br><span class="line">    print(<span class="string">"与第%d技术:%s 相似的主题为:%s"</span> % (i,text,topics))</span><br></pre></td></tr></table></figure></p>
<pre><code>与第1技术:selective laser sinter 相似的主题为:[(0, 0.01250000000026427), (1, 0.012500000025155725), (2, 0.012500000000366615), (3, 0.012500000001424455), (4, 0.012500000001358267), (5, 0.76249999979937455), (6, 0.012500000004073491), (7, 0.012500000005187828), (8, 0.012500000000648456), (9, 0.012500000001325307), (10, 0.012500000003560267), (11, 0.012500000011537189), (12, 0.012500000056974625), (13, 0.0125000000046952), (14, 0.012500000004273579), (15, 0.012500000041852151), (16, 0.012500000008832297), (17, 0.012500000020454457), (18, 0.012500000006792982), (19, 0.012500000001848336)]
与第2技术:direct metal laser sinter 相似的主题为:[(0, 0.0100000000176164), (1, 0.01000000001846911), (2, 0.010000000052152326), (3, 0.010000000083898255), (4, 0.010000000012798747), (5, 0.80999999924483801), (6, 0.010000000067836134), (7, 0.010000000000953272), (8, 0.010000000054614001), (9, 0.010000000009113835), (10, 0.010000000008459112), (11, 0.010000000002772447), (12, 0.010000000136079469), (13, 0.01000000003201116), (14, 0.010000000028306415), (15, 0.010000000119506204), (16, 0.010000000029422841), (17, 0.010000000035681762), (18, 0.010000000033563822), (19, 0.010000000011906259)]
与第3技术:fused deposit model 相似的主题为:[(0, 0.012500000018879805), (1, 0.012500000197938626), (2, 0.012500000017006902), (3, 0.012500000090671566), (4, 0.012500000089346331), (5, 0.28533967238960384), (6, 0.012500000085532138), (7, 0.01250000000207324), (8, 0.012500000006303191), (9, 0.012500000455888722), (10, 0.012500000115682725), (11, 0.012500000141893114), (12, 0.012500000533711652), (13, 0.012500000177804612), (14, 0.012500000427409754), (15, 0.012500000038312744), (16, 0.012500000120303622), (17, 0.48966032482276883), (18, 0.012500000068109227), (19, 0.012500000200759476)]
与第4技术:digital light process 相似的主题为:[(0, 0.76249999637024868), (1, 0.012500000109553058), (2, 0.012500000085585416), (3, 0.012500000249875973), (4, 0.012500000217672084), (5, 0.012500000363651726), (6, 0.012500000160022558), (7, 0.012500000044746468), (8, 0.012500000114562322), (9, 0.012500000221680529), (10, 0.012500000060089181), (11, 0.012500000165634224), (12, 0.012500000424399849), (13, 0.012500000154890683), (14, 0.012500000143454771), (15, 0.012500000119212326), (16, 0.012500000103679128), (17, 0.012500000142243685), (18, 0.012500000440269622), (19, 0.012500000308527669)]
与第5技术:laminated object manufact 相似的主题为:[(0, 0.016666666708534502), (1, 0.01666666692986472), (2, 0.016666666755080724), (3, 0.016666667325515902), (4, 0.68333333051956391), (5, 0.016666666700257116), (6, 0.016666666742171068), (7, 0.016666666690853652), (8, 0.016666666770181162), (9, 0.016666666683445405), (10, 0.016666666821177779), (11, 0.016666666667652999), (12, 0.016666667202277767), (13, 0.016666666699137606), (14, 0.016666666715177164), (15, 0.016666666712675651), (16, 0.016666667197598874), (17, 0.016666666753133944), (18, 0.016666666677748968), (19, 0.016666666727951324)]
与第6技术:selective heat sinter 相似的主题为:[(0, 0.012500000008236487), (1, 0.012500000242189509), (2, 0.012500000115452121), (3, 0.012500000078604575), (4, 0.012500000188981536), (5, 0.76249999500328458), (6, 0.012500000315011571), (7, 0.012500000074153471), (8, 0.012500000191537533), (9, 0.012500000012402453), (10, 0.012500000059782957), (11, 0.012500000040707065), (12, 0.01250000036262164), (13, 0.012500001828313312), (14, 0.012500000630911891), (15, 0.012500000272427156), (16, 0.0125000004143444), (17, 0.012500000089564488), (18, 0.012500000030820422), (19, 0.01250000004065263)]
与第7技术:electron beam melting 相似的主题为:[(0, 0.012500000016454908), (1, 0.012500000050304234), (2, 0.01250000004900541), (3, 0.012500000085850655), (4, 0.012500000002734116), (5, 0.7624999978455782), (6, 0.012500000319303218), (7, 0.012500000007520029), (8, 0.012500000015225669), (9, 0.0125000000032559), (10, 0.012500000191718524), (11, 0.012500000013050492), (12, 0.012500000294125221), (13, 0.012500000033902881), (14, 0.01250000005412431), (15, 0.012500000138971734), (16, 0.012500000171213506), (17, 0.012500000675140826), (18, 0.012500000010269345), (19, 0.012500000022250908)]
与第8技术:selective heat sintering 相似的主题为:[(0, 0.012500000008272661), (1, 0.012500000271256676), (2, 0.012500000116035057), (3, 0.012500000078739632), (4, 0.012500000189553388), (5, 0.76249999323849482), (6, 0.012500000317921743), (7, 0.012500000077258676), (8, 0.012500000194267575), (9, 0.012500000012515692), (10, 0.012500000069095617), (11, 0.012500000055422782), (12, 0.01250000037229872), (13, 0.012500003438939474), (14, 0.012500000632149989), (15, 0.01250000033813994), (16, 0.01250000042327056), (17, 0.01250000009257668), (18, 0.012500000032761164), (19, 0.012500000041029261)]
与第9技术:powder bed and inkjet head 相似的主题为:[(0, 0.010000000010817795), (1, 0.010000000121357063), (2, 0.20932194034723767), (3, 0.010000000005442235), (4, 0.01000000003562615), (5, 0.010000000106448758), (6, 0.010000000075971441), (7, 0.010000000119263049), (8, 0.010000000026851709), (9, 0.010000000146308642), (10, 0.010000000074525062), (11, 0.010000000460679104), (12, 0.37411583750370875), (13, 0.01000000008930217), (14, 0.24656222034213773), (15, 0.010000000152581687), (16, 0.01000000002514225), (17, 0.010000000307013769), (18, 0.010000000016470815), (19, 0.010000000033114326)]
与第10技术:Polymer injection 相似的主题为:[(0, 0.016666666673710518), (1, 0.016666666866131812), (2, 0.016666666839853062), (3, 0.016666666738834195), (4, 0.016666666731599691), (5, 0.016666666668557411), (6, 0.68333333098411175), (7, 0.016666666791825154), (8, 0.016666666711353407), (9, 0.016666666678708759), (10, 0.016666667121143508), (11, 0.016666666797648531), (12, 0.016666666814533489), (13, 0.016666666796876489), (14, 0.016666666889430144), (15, 0.01666666680169827), (16, 0.01666666701933529), (17, 0.016666666699645703), (18, 0.016666666671709539), (19, 0.016666666703293184)]
</code></pre>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>您的支持将鼓励我继续创作！</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="张海超 微信支付"/>
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.jpg" alt="张海超 支付宝"/>
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/主题模型/" rel="tag"># 主题模型</a>
          
            <a href="/tags/LDA/" rel="tag"># LDA</a>
          
            <a href="/tags/Python/" rel="tag"># Python</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/08/利用Bi-LSTM-CRF进行命名实体识别/" rel="next" title="利用Bi-LSTM CRF进行命名实体识别">
                <i class="fa fa-chevron-left"></i> 利用Bi-LSTM CRF进行命名实体识别
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zNTUyMy8xMjA1OQ=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="张海超" />
            
              <p class="site-author-name" itemprop="name">张海超</p>
              <p class="site-description motion-element" itemprop="description">stay hungry, stay foolish.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/ChaoOnGithub" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://weibo.com/zhangmubai" target="_blank" title="微博">
                      
                        <i class="fa fa-fw fa-weibo"></i>微博</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/zhanghc-14/" target="_blank" title="知乎">
                      
                        <i class="fa fa-fw fa-zhihu"></i>知乎</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.github.com/" title="github" target="_blank">github</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">1.</span> <span class="nav-text">0. 导入相关包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">2.</span> <span class="nav-text">1. 读入数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">3.</span> <span class="nav-text">2. 构建语料</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">4.</span> <span class="nav-text">3. 建立LDA模型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">5.</span> <span class="nav-text">4.查看一下十项技术的所属于的主题</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">张海超</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
